---
import { Image } from "astro:assets";
import Layout from "../layouts/layout.astro";
import Shibaprofile from "../assets/images/shibainusepia.png";
import Shiba1 from "../assets/images/shiba inu sepia/image 3.png";
import Shiba2 from "../assets/images/shiba inu sepia/image 4.png";
import Shiba3 from "../assets/images/shiba inu sepia/image 5.png";
import Shiba4 from "../assets/images/shiba inu sepia/image 6.png";
import Shiba5 from "../assets/images/shiba inu sepia/image 7.png";
import Shiba6 from "../assets/images/shiba inu sepia/image 8.png";
import Customer1 from "../assets/images/shiba inu sepia/customers/Frame 118.png";
import Customer2 from "../assets/images/shiba inu sepia/customers/Frame 119.png";
import Customer3 from "../assets/images/shiba inu sepia/customers/Frame 120.png";
import Customer4 from "../assets/images/shiba inu sepia/customers/Frame 121.png";
import Customer5 from "../assets/images/shiba inu sepia/customers/Frame 122.png";
import Arrowleftbut from "../assets/icons/arrowleftbutton.svg";
import Arrowrightbut from "../assets/icons/arrowroghtbutton.svg";
import HealthInsurance from "../assets/icons/healthguareantee.svg";
import IdentificatioInsurance from "../assets/icons/identificationguarantee.svg";
import Chat from "../assets/icons/chat.svg";

const images = [Shiba1, Shiba2, Shiba3, Shiba4, Shiba5, Shiba6];

const pet = {
  sku: "#0000076",
  name: "Shiba Inu Sepia",
  price: "34,000,000 VND",
  gender: "Female",
  age: "3 Months",
  size: "Small",
  color: "Apricot & Tan",
  vaccinated: "Yes",
  dewormed: "Yes",
  cert: "Yes (MKA)",
  microchip: "Yes",
  location: "Vietnam",
  published: "12 Oct 2022",
  info: "Pure breed Shih Tzu. Very cute, soft and Playful. Father from champion lineage."
};
---
<Layout>
    <section class="flex flex-col lg:flex-row w-full gap-6 mx-auto">
        <div class="flex flex-col lg:flex-row mx-auto">
            <div 
  x-data="{
    images: [
      Shibaprofile,
      Shiba1,
      Shiba2,
      Shiba3,
      Shiba4,
      Shiba5,
      Shiba6
    ],
    index: 0,
    get current() {
      return this.images[this.index];
    },
    prev() {
      this.index = (this.index - 1 + this.images.length) % this.images.length;
    },
    next() {
      this.index = (this.index + 1) % this.images.length;
    }
  }"
  class="relative"
>
  <!-- Main Image wrapped with link -->
  <a href={`/shop/${pet.sku}`}>
    <img 
      :src="current.src" 
      alt={pet.name} 
      class="w-full rounded-2xl shadow-md" 
    />
  </a>

  <!-- Left Button -->
  <button 
    @click="prev"
    class="absolute top-1/2 left-3 -translate-y-1/2 bg-white/70 w-10 h-10 rounded-full flex items-center justify-center shadow hover:bg-white"
  >
    <img src={Arrowleftbut.src} alt="Previous" />
  </button>

  <!-- Right Button -->
  <button 
    @click="next"
    class="absolute top-1/2 right-3 -translate-y-1/2 bg-white/70 w-10 h-10 rounded-full flex items-center justify-center shadow hover:bg-white"
  >
    <img src={Arrowrightbut.src} alt="Next" />
  </button>

  <!-- Thumbnails -->
  <div class="flex justify-between gap-3 mt-4">
    <template x-for="(img, i) in images" :key="i">
      <img 
        :src="img.src" 
        alt="Thumbnail"
        class="w-20 h-20 object-cover rounded-lg cursor-pointer border-2"
        :class="i === index ? 'border-primary' : 'border-transparent hover:border-primary/60'"
        @click="index = i"
      />
    </template>
  </div>
</div>

        <!-- Right section -->
        <div class="w-full lg:w-1/2">
            <!-- Breadcrumb -->
            <nav class="text-sm text-gray-500 mb-4">
                <a href="/" class="hover:text-primary">Home</a> › 
                <a href="/dog" class="hover:text-primary">Dog</a> › 
                <a href="/dog/large" class="hover:text-primary">Large Dog</a> › 
                <span class="text-gray-800">{pet.name}</span>
            </nav>

            <!-- Title & Price -->
            <div class="mb-4">
                <p class="text-xs text-gray-500">SKU {pet.sku}</p>
                <h1 class="text-2xl font-bold text-gray-900">{pet.name}</h1>
                <p class="text-lg font-semibold text-primary mt-1">{pet.price}</p>
            </div>

            <!-- Buttons -->
            <div class="flex gap-3 mb-6">
                <button class="bg-primary text-white px-3 py-2 rounded-full shadow hover:bg-primary/90">
                    Contact Us
                </button>
                <button class="flex gap-2 items-center border border-primary text-primary px-5 py-2 rounded-full hover:bg-primary hover:text-white transition">
                    <Chat />
                    Chat with Monito
                </button>
            </div>

            <!-- Pet attributes -->
            <div class="overflow-hidden rounded-xl border border-gray-200">
            <dl class="divide-y divide-gray-200 text-sm">
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">SKU</dt>
                <dd class="font-medium text-gray-900">{pet.sku}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Gender</dt>
                <dd class="font-medium">{pet.gender}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Age</dt>
                <dd class="font-medium">{pet.age}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Size</dt>
                <dd class="font-medium">{pet.size}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Color</dt>
                <dd class="font-medium">{pet.color}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Vaccinated</dt>
                <dd class="font-medium">{pet.vaccinated}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Dewormed</dt>
                <dd class="font-medium">{pet.dewormed}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Cert</dt>
                <dd class="font-medium">{pet.cert}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Microchip</dt>
                <dd class="font-medium">{pet.microchip}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Location</dt>
                <dd class="font-medium">{pet.location}</dd>
                </div>
                <div class="grid grid-cols-2 gap-4 p-3">
                <dt class="text-gray-600">Published Date</dt>
                <dd class="font-medium">{pet.published}</dd>
                </div>
            </dl>
            </div>

            <!-- Additional Info -->
            <div class="mt-4">
            <h3 class="text-gray-700 font-semibold">Additional Information</h3>
            <p class="text-gray-600 text-sm mt-2 leading-relaxed">{pet.info}</p>
            </div>
        </div>
        </div>
    </section>
</Layout>